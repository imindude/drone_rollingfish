/**
 * *********************************************************************************************************************
 * @mainpage    RollingFish
 * @author      imindude@gmail.com
 * *********************************************************************************************************************
 */

#pragma once

#ifdef __cplusplus
extern "C" {
#endif

/* ****************************************************************************************************************** */

#include <stdint.h>
#include <stdbool.h>

/* ****************************************************************************************************************** */

struct sPid
{
    float   _kp, _ki, _kd;
    float   _max_iterm;
    float   _prev_rate;     ///< internal use only
    float   _sum_iterm;     ///< internal use only
};
typedef struct sPid     sPid;

/* ****************************************************************************************************************** */

bool    pid_init(sPid *pid);
void    pid_reset(sPid *pid);
float   pid_update(sPid *pid, bool rate_ctl, float desired, float actual, float rate, float dt);

/* ****************************************************************************************************************** */

#ifdef __cplusplus
}
#endif

/* end of file ****************************************************************************************************** */
